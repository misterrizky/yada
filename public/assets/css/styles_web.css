/* Micro visual: grid + noise overlay */
.yex-grid {
    background-image:
        linear-gradient(
            to right,
            rgba(255, 255, 255, 0.06) 1px,
            transparent 1px
        ),
        linear-gradient(
            to bottom,
            rgba(255, 255, 255, 0.06) 1px,
            transparent 1px
        );
    background-size: 48px 48px;
    background-position: center;
    mask-image: radial-gradient(circle at 50% 30%, black 0%, transparent 60%);
    -webkit-mask-image: radial-gradient(
        circle at 50% 30%,
        black 0%,
        transparent 60%
    );
}

/* ---------- UX helpers (global) ---------- */

/* Keep the marketing site header sticky across devices. */
.yex-site-header {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    z-index: 50;
}

/* Better default focus for accessibility */
:where(a, button, [role="button"], input, textarea, select):focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.65);
    outline-offset: 3px;
}

/* Safer iOS viewport + sticky bottom areas */
.yex-safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
}

/* Smooth inertial scrolling feel on iOS for horizontal chip rows */
.yex-scroll-x {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
}
.yex-scroll-x::-webkit-scrollbar {
    width: 0;
    height: 0;
}

/* Subtle selection and caret */
::selection {
    background: rgba(255, 255, 255, 0.18);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .logo-y-mark,
    .logo-e-mark {
        animation: none !important;
    }
}
.yex-noise::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
    opacity: 0.12;
    pointer-events: none;
}
/* Canvas cover helper */
canvas.yex-gl {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    display: block;
    opacity: 0.9;
    pointer-events: none;
    filter: saturate(1.2) contrast(1.05);
}
.logo-y-mark {
    transform-origin: center;
    transform-box: fill-box;
    animation: logo-y-float 2.6s ease-in-out infinite;
    will-change: transform;
}

.logo-e-mark {
    transform-origin: center;
    transform-box: fill-box;
    animation: logo-e-float 2.2s ease-in-out infinite;
    will-change: transform;
}

@keyframes logo-y-float {
    0% {
        transform: translateY(0) rotate(0deg);
    }
    50% {
        transform: translateY(-2px) rotate(-2deg);
    }
    100% {
        transform: translateY(0) rotate(0deg);
    }
}

@keyframes logo-e-float {
    0% {
        transform: translateX(0) translateY(0) rotate(0deg);
    }
    50% {
        transform: translateX(1px) translateY(2px) rotate(1deg);
    }
    100% {
        transform: translateX(0) translateY(0) rotate(0deg);
    }
}
/* === About extras === */
.yex-boot-scan {
    position: relative;
    overflow: hidden;
}
.yex-boot-scan::before {
    content: "";
    position: absolute;
    inset: -40% 0 auto 0;
    height: 120%;
    background: linear-gradient(
        to bottom,
        transparent,
        rgba(255,255,255,0.06),
        transparent
    );
    transform: translateY(-30%);
    animation: yex-scan 2.2s ease-in-out infinite;
    pointer-events: none;
    opacity: 0.7;
}
@keyframes yex-scan {
    0% { transform: translateY(-40%); }
    60% { transform: translateY(18%); }
    100% { transform: translateY(40%); }
}

/* spotlight-follow (values cards) */
.yex-spotlight-card {
    position: relative;
    overflow: hidden;
    --mx: 50%;
    --my: 35%;
}
.yex-spotlight-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(700px circle at var(--mx) var(--my), rgba(34,211,238,0.18), transparent 60%);
    opacity: 0;
    transition: opacity 240ms ease;
    pointer-events: none;
}
.yex-spotlight-card:hover::before,
.yex-spotlight-card:focus-within::before {
    opacity: 1;
}

/* timeline active state */
.yex-tl-item {
    opacity: 0.85;
    transition: opacity 200ms ease, transform 200ms ease;
}
.yex-tl-item.is-active {
    opacity: 1;
    transform: translateY(-2px);
    box-shadow: 0 0 0 1px rgba(255,255,255,0.12), 0 18px 50px rgba(0,0,0,0.35);
}
/* =========================
   Story HUD (cursor + chapters)
   ========================= */

/* Custom cursor: hide on touch devices */
@media (pointer: coarse) {
  #yexCursor { display: none !important; }
}

/* Cursor style (Aten7-ish) */
#yexCursor {
  mix-blend-mode: difference;
  will-change: transform, opacity;
}
#yexCursorRing, #yexCursorDot {
  will-change: transform;
}

/* Chapters active */
.yex-ch-btn.is-active {
  background: rgba(255,255,255,0.06);
}
.yex-ch-btn.is-active span:last-child {
  color: rgba(255,255,255,0.95);
}
/* =========================
   Chapter Overlay + Terminal
   ========================= */

#yexChapterOverlay {
  will-change: opacity, transform;
}

#yexTerminalLog::-webkit-scrollbar {
  width: 8px;
}
#yexTerminalLog::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.10);
  border-radius: 999px;
}
#yexTerminalLog::-webkit-scrollbar-track {
  background: transparent;
}

/* log line accent */
.yex-log-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: 999px;
  margin-right: 8px;
  transform: translateY(-1px);
  background: rgba(255,255,255,0.35);
}
.yex-log-dot.ok { background: rgba(34,197,94,0.75); }
.yex-log-dot.warn { background: rgba(245,158,11,0.75); }
.yex-log-dot.err { background: rgba(244,63,94,0.75); }

/* Dock active state */
.yex-dock-btn.is-active span {
  background: rgba(255, 255, 255, 0.75);
}
.yex-dock-btn.is-active {
  transform: translateY(-1px);
}
/* =========================
   History page (drag timeline)
   ========================= */

.yex-history-rail {
  position: relative;
  overflow: hidden;
  border-radius: 1.5rem;
  background: rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.10);
  padding: 18px 14px;
  cursor: grab;
  user-select: none;
  -webkit-user-select: none;
}

.yex-history-rail.is-dragging { cursor: grabbing; }

.yex-history-rail::before {
  content: "";
  position: absolute;
  left: 16px;
  right: 16px;
  top: 50%;
  height: 2px;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.14);
  border-radius: 999px;
}

.yex-history-track {
  position: relative;
  display: flex;
  align-items: center;
  gap: 22px;
  padding: 6px 10px;
  will-change: transform;
}

.yex-h-item {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.80);
  transition: transform 180ms ease, background 180ms ease, border-color 180ms ease;
}

.yex-h-item:hover {
  transform: translateY(-1px);
  background: rgba(255,255,255,0.07);
  border-color: rgba(255,255,255,0.18);
}

.yex-h-item.is-active {
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.26);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.08), 0 18px 60px rgba(0,0,0,0.35);
}

.yex-h-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.55);
  box-shadow: 0 0 0 6px rgba(255,255,255,0.06);
}

.yex-h-item.is-active .yex-h-dot {
  background: rgba(255,255,255,0.92);
  box-shadow: 0 0 0 6px rgba(255,255,255,0.10), 0 0 0 14px rgba(34,211,238,0.10);
}

.yex-h-meta {
  display: flex;
  flex-direction: column;
  line-height: 1.05;
  text-align: left;
}

.yex-h-year {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.22em;
  opacity: 0.7;
}

.yex-h-title {
  margin-top: 3px;
  font-size: 12px;
  font-weight: 700;
  opacity: 0.9;
}

/* detail overlay */
.yex-history-detail {
  position: fixed;
  inset: 0;
  z-index: 80;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.yex-history-detail.is-open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.yex-history-detail__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.65);
  backdrop-filter: blur(10px);
}

.yex-history-detail__panel {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(860px, 92vw);
  border-radius: 2rem;
  background: rgba(24,24,27,0.55);
  border: 1px solid rgba(255,255,255,0.10);
  padding: 22px;
  box-shadow: 0 30px 120px rgba(0,0,0,0.55);
}

/* running text caret */
.yex-typing-caret::after {
  content: "‚ñç";
  margin-left: 2px;
  opacity: 0.9;
  animation: yex-caret 850ms steps(1) infinite;
}

@keyframes yex-caret {
  0%, 49% { opacity: 0.9; }
  50%, 100% { opacity: 0.1; }
}

/* =========================
   Blog page extras
   ========================= */
.yex-blog-meter {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  will-change: width;
}

.yex-portfolio-meter {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  will-change: width;
}

.yex-services-meter {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  will-change: width;
}

.yex-careers-meter {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  will-change: width;
}

.yex-contact-meter {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  will-change: width;
}

html {
    overflow-x: hidden;
    color-scheme: light;
}

html.dark {
    color-scheme: dark;
}

html:not(.dark) ::selection {
    background: rgba(15, 23, 42, 0.12);
    color: rgb(15, 23, 42);
}

html:not(.dark) :where(a, button, [role="button"], input, textarea, select):focus-visible {
    outline-color: rgba(15, 23, 42, 0.45);
}

html:not(.dark) .yex-grid {
    background-image:
        linear-gradient(
            to right,
            rgba(15, 23, 42, 0.06) 1px,
            transparent 1px
        ),
        linear-gradient(
            to bottom,
            rgba(15, 23, 42, 0.06) 1px,
            transparent 1px
        );
}

html:not(.dark) [class~="bg-zinc-950"] { background-color: rgb(248, 250, 252); }
html:not(.dark) [class~="bg-zinc-950/40"] { background-color: rgba(255, 255, 255, 0.8); }
html:not(.dark) [class~="bg-zinc-950/50"] { background-color: rgba(255, 255, 255, 0.84); }
html:not(.dark) [class~="bg-zinc-950/70"] { background-color: rgba(255, 255, 255, 0.9); }
html:not(.dark) [class~="bg-zinc-950/75"] { background-color: rgba(255, 255, 255, 0.92); }
html:not(.dark) [class~="bg-zinc-950/90"] { background-color: rgba(255, 255, 255, 0.96); }
html:not(.dark) [class~="bg-zinc-900"] { background-color: rgb(241, 245, 249); }
html:not(.dark) [class~="bg-zinc-900/30"] { background-color: rgba(255, 255, 255, 0.78); }
html:not(.dark) [class~="bg-zinc-900/90"] { background-color: rgba(255, 255, 255, 0.95); }

html:not(.dark) [class~="bg-white/5"] { background-color: rgba(15, 23, 42, 0.04); }
html:not(.dark) [class~="bg-white/10"] { background-color: rgba(15, 23, 42, 0.06); }
html:not(.dark) [class~="bg-white/15"] { background-color: rgba(15, 23, 42, 0.08); }
html:not(.dark) [class~="bg-white/20"] { background-color: rgba(15, 23, 42, 0.1); }
html:not(.dark) [class~="bg-white/40"] { background-color: rgba(15, 23, 42, 0.16); }
html:not(.dark) [class~="bg-white/60"] { background-color: rgba(15, 23, 42, 0.22); }
html:not(.dark) [class~="bg-white/70"] { background-color: rgba(15, 23, 42, 0.26); }
html:not(.dark) [class~="bg-white/80"] { background-color: rgba(15, 23, 42, 0.3); }

html:not(.dark) [class~="text-white"] { color: rgb(15, 23, 42); }
html:not(.dark) [class~="text-white/90"] { color: rgba(15, 23, 42, 0.9); }
html:not(.dark) [class~="text-white/85"] { color: rgba(15, 23, 42, 0.85); }
html:not(.dark) [class~="text-white/80"] { color: rgba(15, 23, 42, 0.8); }
html:not(.dark) [class~="text-white/75"] { color: rgba(15, 23, 42, 0.75); }
html:not(.dark) [class~="text-white/70"] { color: rgba(15, 23, 42, 0.7); }
html:not(.dark) [class~="text-white/65"] { color: rgba(15, 23, 42, 0.65); }
html:not(.dark) [class~="text-white/60"] { color: rgba(15, 23, 42, 0.6); }
html:not(.dark) [class~="text-white/55"] { color: rgba(15, 23, 42, 0.55); }
html:not(.dark) [class~="text-white/50"] { color: rgba(15, 23, 42, 0.5); }
html:not(.dark) [class~="text-white/40"] { color: rgba(15, 23, 42, 0.4); }

html:not(.dark) [class~="border-white/10"] { border-color: rgba(15, 23, 42, 0.12); }
html:not(.dark) [class~="border-white/50"] { border-color: rgba(15, 23, 42, 0.2); }
html:not(.dark) [class~="border-white/60"] { border-color: rgba(15, 23, 42, 0.25); }
html:not(.dark) [class~="border-white/70"] { border-color: rgba(15, 23, 42, 0.3); }

html:not(.dark) [class~="ring-white/10"] { --tw-ring-color: rgba(15, 23, 42, 0.12); }
html:not(.dark) [class~="ring-white/20"] { --tw-ring-color: rgba(15, 23, 42, 0.2); }
